<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE application PUBLIC "-//MMBase//DTD application config 1.1//EN" "http://www.mmbase.org/dtd/application_1_1.dtd">
<application name="MMBob" maintainer="submarine.nl" version="1" auto-deploy="false">
    <requirements>
        <requires type="application" name="LeoCMS" maintainer="mmbase.org" version="1" />
    </requirements>
    <neededbuilderlist>
        <!-- relations -->
        <builder maintainer="submarine.nl" version="1">insrel</builder>
        <builder maintainer="submarine.nl" version="1">posrel</builder>
        <builder maintainer="submarine.nl" version="1">rolerel</builder>

        <!-- plain objects -->
        <builder maintainer="submarine.nl" version="1">avatarsets</builder>
        <builder maintainer="submarine.nl" version="1">forummessagebox</builder>
        <builder maintainer="submarine.nl" version="1">forumprivatemessage</builder>
        <builder maintainer="submarine.nl" version="1">forums</builder>
        <builder maintainer="submarine.nl" version="1">images</builder>
        <builder maintainer="submarine.nl" version="1">imagesets</builder>
        <builder maintainer="submarine.nl" version="1">postareas</builder>
        <builder maintainer="submarine.nl" version="1">posters</builder>
        <builder maintainer="submarine.nl" version="1">postings</builder>
        <builder maintainer="submarine.nl" version="1">postthreads</builder>
    </neededbuilderlist>
    <neededreldeflist>
        <reldef source="related" target="related" direction="bidirectional" guisourcename="Related" guitargetname="Related" builder="insrel" />
        <reldef source="posrel" target="posrel" direction="bidirectional" guisourcename="Posrel" guitargetname="Posrel" builder="posrel" />
        <reldef source="rolerel" target="rolerel" direction="bidirectional" guisourcename="RoleRel" guitargetname="RoleRel" builder="rolerel" />
    </neededreldeflist>
    <allowedrelationlist>
        <relation from="avatarsets" to="images" type="posrel" />
        <relation from="forummessagebox" to="forumprivatemessage" type="related" />
        <relation from="forums" to="postareas" type="related" />
        <relation from="forums" to="posters" type="related" />
        <relation from="forums" to="posters" type="rolerel" />
        <relation from="images" to="posters" type="rolerel" />
        <relation from="postareas" to="posters" type="rolerel" />
        <relation from="postareas" to="postthreads" type="related" />
        <relation from="posters" to="avatarsets" type="related" />
        <relation from="posters" to="forummessagebox" type="posrel" />
        <relation from="postthreads" to="postings" type="related" />        
    </allowedrelationlist>
    <datasourcelist>
        <datasource builder="avatarsets" path="MMBob/avatarsets.xml" />
        <datasource builder="forummessagebox" path="MMBob/forummessagebox.xml" />
        <datasource builder="forumprivatemessage" path="MMBob/forumprivatemessage.xml" />
        <datasource builder="forums" path="MMBob/forums.xml" />
        <datasource builder="images" path="MMBob/images.xml" />
        <datasource builder="imagesets" path="MMBob/imagesets.xml" />
        <datasource builder="postareas" path="MMBob/postareas.xml" />
        <datasource builder="posters" path="MMBob/posters.xml" />
        <datasource builder="postings" path="MMBob/postings.xml" />
        <datasource builder="postthreads" path="MMBob/postthreads.xml" />
    </datasourcelist>
    <relationsourcelist>
        <relationsource builder="insrel" path="MMBob/insrel.xml" />
        <relationsource builder="posrel" path="MMBob/posrel.xml" />
        <relationsource builder="rolerel" path="MMBob/rolerel.xml" />
    </relationsourcelist>
    <contextsourcelist>
        <contextsource path="MMBob/backup.xml" type="depth" goal="backup" />
    </contextsourcelist>
    <description>
        <![CDATA[The MMBob application saves and restores MMBob.]]>
    </description>
    <install-notice>
        <![CDATA[The MMBob application is installed. Please make sure that you set the password in \config\mmbob\mmbob.xml correctly, otherwise you will get unexpected error messages !!! Next to this for uploading the avatars, makes sure the temp directory in config\utils\httppost.xml is correct.]]>
    </install-notice>
</application>
